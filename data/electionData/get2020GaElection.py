from urllib.request import urlopen
from zipfile import ZipFile

URLS = [
	"https://results.enr.clarityelections.com//GA/Appling/105371/?v=271560",
"https://results.enr.clarityelections.com//GA/Atkinson/105372/?v=269680",
"https://results.enr.clarityelections.com//GA/Bacon/105373/?v=269330",
"https://results.enr.clarityelections.com//GA/Baker/105374/?v=270983",
"https://results.enr.clarityelections.com//GA/Baldwin/105375/?v=270253",
"https://results.enr.clarityelections.com//GA/Banks/105376/?v=271316",
"https://results.enr.clarityelections.com//GA/Barrow/105377/?v=270026",
"https://results.enr.clarityelections.com//GA/Bartow/105378/?v=271417",
"https://results.enr.clarityelections.com//GA/Ben_Hill/105379/?v=270230",
"https://results.enr.clarityelections.com//GA/Berrien/105380/?v=271850",
"https://results.enr.clarityelections.com//GA/Bibb/105381/?v=271042",
"https://results.enr.clarityelections.com//GA/Bleckley/105382/?v=270704",
"https://results.enr.clarityelections.com//GA/Brantley/105383/?v=270796",
"https://results.enr.clarityelections.com//GA/Brooks/105384/?v=270038",
"https://results.enr.clarityelections.com//GA/Bryan/105385/?v=270271",
"https://results.enr.clarityelections.com//GA/Bulloch/105386/?v=270239",
"https://results.enr.clarityelections.com//GA/Burke/105387/?v=269874",
"https://results.enr.clarityelections.com//GA/Butts/105388/?v=271622",
"https://results.enr.clarityelections.com//GA/Calhoun/105389/?v=271148",
"https://results.enr.clarityelections.com//GA/Camden/105390/?v=270475",
"https://results.enr.clarityelections.com//GA/Candler/105391/?v=271755",
"https://results.enr.clarityelections.com//GA/Carroll/105392/?v=271002",
"https://results.enr.clarityelections.com//GA/Catoosa/105393/?v=270578",
"https://results.enr.clarityelections.com//GA/Charlton/105394/?v=270606",
"https://results.enr.clarityelections.com//GA/Chatham/105395/?v=271386",
"https://results.enr.clarityelections.com//GA/Chattahoochee/105396/?v=271105",
"https://results.enr.clarityelections.com//GA/Chattooga/105397/?v=270348",
"https://results.enr.clarityelections.com//GA/Cherokee/105398/?v=270568",
"https://results.enr.clarityelections.com//GA/Clarke/105399/?v=271164",
"https://results.enr.clarityelections.com//GA/Clay/105400/?v=270247",
"https://results.enr.clarityelections.com//GA/Clayton/105401/?v=270528",
"https://results.enr.clarityelections.com//GA/Clinch/105402/?v=269809",
"https://results.enr.clarityelections.com//GA/Cobb/105403/?v=271286",
"https://results.enr.clarityelections.com//GA/Coffee/105404/?v=271849",
"https://results.enr.clarityelections.com//GA/Colquitt/105405/?v=270360",
"https://results.enr.clarityelections.com//GA/Columbia/105406/?v=270128",
"https://results.enr.clarityelections.com//GA/Cook/105407/?v=269842",
"https://results.enr.clarityelections.com//GA/Coweta/105408/?v=270083",
"https://results.enr.clarityelections.com//GA/Crawford/105409/?v=270715",
"https://results.enr.clarityelections.com//GA/Crisp/105410/?v=269948",
"https://results.enr.clarityelections.com//GA/Dade/105411/?v=270714",
"https://results.enr.clarityelections.com//GA/Dawson/105412/?v=270340",
"https://results.enr.clarityelections.com//GA/Decatur/105413/?v=270042",
"https://results.enr.clarityelections.com//GA/DeKalb/105414/?v=271880",
"https://results.enr.clarityelections.com//GA/Dodge/105415/?v=270701",
"https://results.enr.clarityelections.com//GA/Dooly/105416/?v=269783",
"https://results.enr.clarityelections.com//GA/Dougherty/105417/?v=271906",
"https://results.enr.clarityelections.com//GA/Douglas/105418/?v=271752",
"https://results.enr.clarityelections.com//GA/Early/105419/?v=271847",
"https://results.enr.clarityelections.com//GA/Echols/105420/?v=271813",
"https://results.enr.clarityelections.com//GA/Effingham/105421/?v=270686",
"https://results.enr.clarityelections.com//GA/Elbert/105422/?v=271496",
"https://results.enr.clarityelections.com//GA/Emanuel/105423/?v=270757",
"https://results.enr.clarityelections.com//GA/Evans/105424/?v=269692",
"https://results.enr.clarityelections.com//GA/Fannin/105425/?v=270577",
"https://results.enr.clarityelections.com//GA/Fayette/105426/?v=271800",
"https://results.enr.clarityelections.com//GA/Floyd/105427/?v=271846",
"https://results.enr.clarityelections.com//GA/Forsyth/105428/?v=270644",
"https://results.enr.clarityelections.com//GA/Franklin/105429/?v=269880",
"https://results.enr.clarityelections.com//GA/Fulton/105430/?v=271723",
"https://results.enr.clarityelections.com//GA/Gilmer/105431/?v=270285",
"https://results.enr.clarityelections.com//GA/Glascock/105432/?v=271494",
"https://results.enr.clarityelections.com//GA/Glynn/105433/?v=270232",
"https://results.enr.clarityelections.com//GA/Gordon/105434/?v=271139",
"https://results.enr.clarityelections.com//GA/Grady/105435/?v=271852",
"https://results.enr.clarityelections.com//GA/Greene/105436/?v=270293",
"https://results.enr.clarityelections.com//GA/Gwinnett/105437/?v=270282",
"https://results.enr.clarityelections.com//GA/Habersham/105438/?v=271402",
"https://results.enr.clarityelections.com//GA/Hall/105439/?v=271017",
"https://results.enr.clarityelections.com//GA/Hancock/105440/?v=271523",
"https://results.enr.clarityelections.com//GA/Haralson/105441/?v=270243",
"https://results.enr.clarityelections.com//GA/Harris/105442/?v=270361",
"https://results.enr.clarityelections.com//GA/Hart/105443/?v=269730",
"https://results.enr.clarityelections.com//GA/Heard/105444/?v=270055",
"https://results.enr.clarityelections.com//GA/Henry/105445/?v=270727",
"https://results.enr.clarityelections.com//GA/Houston/105446/?v=270954",
"https://results.enr.clarityelections.com//GA/Irwin/105447/?v=269647",
"https://results.enr.clarityelections.com//GA/Jackson/105448/?v=270059",
"https://results.enr.clarityelections.com//GA/Jasper/105449/?v=271046",
"https://results.enr.clarityelections.com//GA/Jeff_Davis/105450/?v=270419",
"https://results.enr.clarityelections.com//GA/Jefferson/105451/?v=269799",
"https://results.enr.clarityelections.com//GA/Jenkins/105452/?v=270425",
"https://results.enr.clarityelections.com//GA/Johnson/105453/?v=270776",
"https://results.enr.clarityelections.com//GA/Jones/105454/?v=270003",
"https://results.enr.clarityelections.com//GA/Lamar/105455/?v=271022",
"https://results.enr.clarityelections.com//GA/Lanier/105456/?v=270229",
"https://results.enr.clarityelections.com//GA/Laurens/105457/?v=270316",
"https://results.enr.clarityelections.com//GA/Lee/105458/?v=270338",
"https://results.enr.clarityelections.com//GA/Liberty/105459/?v=271572",
"https://results.enr.clarityelections.com//GA/Lincoln/105460/?v=270997",
"https://results.enr.clarityelections.com//GA/Long/105461/?v=270993",
"https://results.enr.clarityelections.com//GA/Lowndes/105462/?v=270101",
"https://results.enr.clarityelections.com//GA/Lumpkin/105463/?v=271380",
"https://results.enr.clarityelections.com//GA/Macon/105464/?v=271896",
"https://results.enr.clarityelections.com//GA/Madison/105465/?v=271736",
"https://results.enr.clarityelections.com//GA/Marion/105466/?v=271063",
"https://results.enr.clarityelections.com//GA/McDuffie/105467/?v=269776",
"https://results.enr.clarityelections.com//GA/McIntosh/105468/?v=271842",
"https://results.enr.clarityelections.com//GA/Meriwether/105469/?v=270428",
"https://results.enr.clarityelections.com//GA/Miller/105470/?v=271098",
"https://results.enr.clarityelections.com//GA/Mitchell/105471/?v=270376",
"https://results.enr.clarityelections.com//GA/Monroe/105472/?v=270410",
"https://results.enr.clarityelections.com//GA/Montgomery/105473/?v=270744",
"https://results.enr.clarityelections.com//GA/Morgan/105474/?v=270790",
"https://results.enr.clarityelections.com//GA/Murray/105475/?v=269984",
"https://results.enr.clarityelections.com//GA/Muscogee/105476/?v=270830",
"https://results.enr.clarityelections.com//GA/Newton/105477/?v=270817",
"https://results.enr.clarityelections.com//GA/Oconee/105478/?v=270960",
"https://results.enr.clarityelections.com//GA/Oglethorpe/105479/?v=270429",
"https://results.enr.clarityelections.com//GA/Paulding/105480/?v=271001",
"https://results.enr.clarityelections.com//GA/Peach/105481/?v=270762",
"https://results.enr.clarityelections.com//GA/Pickens/105482/?v=270409",
"https://results.enr.clarityelections.com//GA/Pierce/105483/?v=270478",
"https://results.enr.clarityelections.com//GA/Pike/105484/?v=271384",
"https://results.enr.clarityelections.com//GA/Polk/105485/?v=270053",
"https://results.enr.clarityelections.com//GA/Pulaski/105486/?v=271862",
"https://results.enr.clarityelections.com//GA/Putnam/105487/?v=271863",
"https://results.enr.clarityelections.com//GA/Quitman/105488/?v=269626",
"https://results.enr.clarityelections.com//GA/Rabun/105489/?v=271233",
"https://results.enr.clarityelections.com//GA/Randolph/105490/?v=271055",
"https://results.enr.clarityelections.com//GA/Richmond/105491/?v=271122",
"https://results.enr.clarityelections.com//GA/Rockdale/105492/?v=270795",
"https://results.enr.clarityelections.com//GA/Schley/105493/?v=269763",
"https://results.enr.clarityelections.com//GA/Screven/105494/?v=270811",
"https://results.enr.clarityelections.com//GA/Seminole/105495/?v=270288",
"https://results.enr.clarityelections.com//GA/Spalding/105496/?v=271526",
"https://results.enr.clarityelections.com//GA/Stephens/105497/?v=270569",
"https://results.enr.clarityelections.com//GA/Stewart/105498/?v=270261",
"https://results.enr.clarityelections.com//GA/Sumter/105499/?v=270350",
"https://results.enr.clarityelections.com//GA/Talbot/105500/?v=270335",
"https://results.enr.clarityelections.com//GA/Taliaferro/105501/?v=270803",
"https://results.enr.clarityelections.com//GA/Tattnall/105502/?v=270257",
"https://results.enr.clarityelections.com//GA/Taylor/105503/?v=269971",
"https://results.enr.clarityelections.com//GA/Telfair/105504/?v=270765",
"https://results.enr.clarityelections.com//GA/Terrell/105505/?v=269934",
"https://results.enr.clarityelections.com//GA/Thomas/105506/?v=270001",
"https://results.enr.clarityelections.com//GA/Tift/105507/?v=270028",
"https://results.enr.clarityelections.com//GA/Toombs/105508/?v=270454",
"https://results.enr.clarityelections.com//GA/Towns/105509/?v=271866",
"https://results.enr.clarityelections.com//GA/Treutlen/105510/?v=269770",
"https://results.enr.clarityelections.com//GA/Troup/105511/?v=271833",
"https://results.enr.clarityelections.com//GA/Turner/105512/?v=269308",
"https://results.enr.clarityelections.com//GA/Twiggs/105513/?v=270266",
"https://results.enr.clarityelections.com//GA/Union/105514/?v=270260",
"https://results.enr.clarityelections.com//GA/Upson/105515/?v=270576",
"https://results.enr.clarityelections.com//GA/Walker/105516/?v=270392",
"https://results.enr.clarityelections.com//GA/Walton/105517/?v=271657",
"https://results.enr.clarityelections.com//GA/Ware/105518/?v=271089",
"https://results.enr.clarityelections.com//GA/Warren/105519/?v=270816",
"https://results.enr.clarityelections.com//GA/Washington/105520/?v=270275",
"https://results.enr.clarityelections.com//GA/Wayne/105521/?v=269961",
"https://results.enr.clarityelections.com//GA/Webster/105522/?v=271567",
"https://results.enr.clarityelections.com//GA/Wheeler/105523/?v=270987",
"https://results.enr.clarityelections.com//GA/White/105524/?v=270541",
"https://results.enr.clarityelections.com//GA/Whitfield/105525/?v=269978",
"https://results.enr.clarityelections.com//GA/Wilcox/105526/?v=269560",
"https://results.enr.clarityelections.com//GA/Wilkes/105527/?v=271747",
"https://results.enr.clarityelections.com//GA/Wilkinson/105528/?v=269804",
"https://results.enr.clarityelections.com//GA/Worth/105529/?v=270815",
]
urlpieces = []
for url in URLS:
	split = url.split("GA/")
	split = split[1].split("/")
	split[2] = split[2].split("=")[1]
	# print(split)
	urlpieces.append(split)
print(urlpieces)

for URL in urlpieces:
	url = "https://results.enr.clarityelections.com//GA/" + URL[0] + "/" + URL[1] + "/" + URL[2] + "/reports/detailxml.zip"
	zipurl = url
    # Download the file from the URL
	zipresp = urlopen(zipurl)
    # Create a new file on the hard drive
	tempzip = open("./tmp/" + URL[0] + "tempfile.zip", "wb")
    # Write the contents of the downloaded file into the new file
	tempzip.write(zipresp.read())
    # Close the newly-created file
	tempzip.close()
    # Re-open the newly-created file with ZipFile()
	zf = ZipFile("./tmp/" + URL[0] + "tempfile.zip")
    # Extract its contents into <extraction_path>
    # note that extractall will automatically create the path
	zf.extractall(path = './georgia/2020/' + URL[0])
    # close the ZipFile instance
	zf.close()